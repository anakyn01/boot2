package com.app.car.service;

import org.springframework.stereotype.Service;

import com.app.car.dto.CarCreateDTO;
import com.app.car.entity.Car;
import com.app.car.entity.CarRepository;

@Service //서비스 계층을 나타냄 => 비즈니스 로직을 처리하는 역활을 한다는 것을 의미
public class CarService {
	
	private CarRepository carRepository;
	
	public CarService(CarRepository carRepository) {
		this.carRepository = carRepository;
	}
	//가비지 컬렉터에 대한 낭비와 코드량을 줄이기 위해 빌더패턴 사용
	public Integer insert(CarCreateDTO carCreateDTO) {
		Car car = Car.builder().title(carCreateDTO.getTitle()).price(carCreateDTO.getPrice()).build();
		
		this.carRepository.save(car);
		return car.getCarId();
	}

}
